import{S as ne,e as se,s as ae,k as S,o as z,z as I,v as A,x as C,B as ie,E as oe,ae as ue,O as L,N as E,K as d,p as b,q as fe,r as re,u as _e,y as me,A as v,G as j,m as ce,T as D,U as M,M as G,n as V,V as y,P as he,L as F,Q as q,R as ge,a1 as de}from"./index-7a480750.js";import{B as be}from"./Button-8aaee2e8.js";import{B as ve}from"./BlockLabel-6c963b73.js";import{E as ke}from"./Empty-c4db5893.js";import{I as p}from"./Image-2faee1d1.js";import{n as H}from"./ModifyUpload.svelte_svelte_type_style_lang-d2acacf0.js";function J(t,e,n){const l=t.slice();return l[27]=e[n][0],l[12]=e[n][1],l[29]=n,l}function W(t,e,n){const l=t.slice();return l[30]=e[n][0],l[12]=e[n][1],l[29]=n,l}function we(t){let e,n,l,s,i,a,_=j(t[13]?t[13][1]:[]),m=[];for(let u=0;u<_.length;u+=1)m[u]=X(W(t,_,u));let c=t[4]&&t[13]&&Y(t);return{c(){e=E("div"),n=E("img"),s=L();for(let u=0;u<m.length;u+=1)m[u].c();i=L(),c&&c.c(),a=ce(),d(n,"class","base-image svelte-m3v3vb"),D(n.src,l=t[13]?t[13][0].data:null)||d(n,"src",l),M(n,"fit-height",t[5]),d(e,"class","image-container svelte-m3v3vb")},m(u,h){b(u,e,h),G(e,n),G(e,s);for(let r=0;r<m.length;r+=1)m[r]&&m[r].m(e,null);b(u,i,h),c&&c.m(u,h),b(u,a,h)},p(u,h){if(h[0]&8192&&!D(n.src,l=u[13]?u[13][0].data:null)&&d(n,"src",l),h[0]&32&&M(n,"fit-height",u[5]),h[0]&24704){_=j(u[13]?u[13][1]:[]);let r;for(r=0;r<_.length;r+=1){const k=W(u,_,r);m[r]?m[r].p(k,h):(m[r]=X(k),m[r].c(),m[r].m(e,null))}for(;r<m.length;r+=1)m[r].d(1);m.length=_.length}u[4]&&u[13]?c?c.p(u,h):(c=Y(u),c.c(),c.m(a.parentNode,a)):c&&(c.d(1),c=null)},i:V,o:V,d(u){u&&(v(e),v(i),v(a)),y(m,u),c&&c.d(u)}}}function Ie(t){let e,n;return e=new ke({props:{size:"large",unpadded_box:!0,$$slots:{default:[Ae]},$$scope:{ctx:t}}}),{c(){S(e.$$.fragment)},m(l,s){z(e,l,s),n=!0},p(l,s){const i={};s[1]&2&&(i.$$scope={dirty:s,ctx:l}),e.$set(i)},i(l){n||(I(e.$$.fragment,l),n=!0)},o(l){A(e.$$.fragment,l),n=!1},d(l){C(e,l)}}}function X(t){let e,n,l;return{c(){e=E("img"),d(e,"class","mask fit-height svelte-m3v3vb"),D(e.src,n=t[30].data)||d(e,"src",n),d(e,"style",l=t[7]&&t[12]in t[7]?null:`filter: hue-rotate(${Math.round(t[29]*360/t[13][1].length)}deg);`),M(e,"active",t[14]==t[12]),M(e,"inactive",t[14]!=t[12]&&t[14]!=null)},m(s,i){b(s,e,i)},p(s,i){i[0]&8192&&!D(e.src,n=s[30].data)&&d(e,"src",n),i[0]&8320&&l!==(l=s[7]&&s[12]in s[7]?null:`filter: hue-rotate(${Math.round(s[29]*360/s[13][1].length)}deg);`)&&d(e,"style",l),i[0]&24576&&M(e,"active",s[14]==s[12]),i[0]&24576&&M(e,"inactive",s[14]!=s[12]&&s[14]!=null)},d(s){s&&v(e)}}}function Y(t){let e,n=j(t[13][1]),l=[];for(let s=0;s<n.length;s+=1)l[s]=Z(J(t,n,s));return{c(){e=E("div");for(let s=0;s<l.length;s+=1)l[s].c();d(e,"class","legend svelte-m3v3vb")},m(s,i){b(s,e,i);for(let a=0;a<l.length;a+=1)l[a]&&l[a].m(e,null)},p(s,i){if(i[0]&237696){n=j(s[13][1]);let a;for(a=0;a<n.length;a+=1){const _=J(s,n,a);l[a]?l[a].p(_,i):(l[a]=Z(_),l[a].c(),l[a].m(e,null))}for(;a<l.length;a+=1)l[a].d(1);l.length=n.length}},d(s){s&&v(e),y(l,s)}}}function Z(t){let e,n=t[12]+"",l,s,i,a;function _(){return t[22](t[12])}function m(){return t[23](t[12])}function c(){return t[26](t[29],t[12])}return{c(){e=E("div"),l=he(n),s=L(),d(e,"class","legend-item svelte-m3v3vb"),F(e,"background-color",t[7]&&t[12]in t[7]?t[7][t[12]]+"88":`hsla(${Math.round(t[29]*360/t[13][1].length)}, 100%, 50%, 0.3)`)},m(u,h){b(u,e,h),G(e,l),G(e,s),i||(a=[q(e,"mouseover",_),q(e,"focus",m),q(e,"mouseout",t[24]),q(e,"blur",t[25]),q(e,"click",c)],i=!0)},p(u,h){t=u,h[0]&8192&&n!==(n=t[12]+"")&&ge(l,n),h[0]&8320&&F(e,"background-color",t[7]&&t[12]in t[7]?t[7][t[12]]+"88":`hsla(${Math.round(t[29]*360/t[13][1].length)}, 100%, 50%, 0.3)`)},d(u){u&&v(e),i=!1,de(a)}}}function Ae(t){let e,n;return e=new p({}),{c(){S(e.$$.fragment)},m(l,s){z(e,l,s),n=!0},i(l){n||(I(e.$$.fragment,l),n=!0)},o(l){A(e.$$.fragment,l),n=!1},d(l){C(e,l)}}}function Be(t){let e,n,l,s,i,a,_,m;const c=[t[11]];let u={};for(let f=0;f<c.length;f+=1)u=oe(u,c[f]);e=new ue({props:u}),l=new ve({props:{show_label:t[3],Icon:p,label:t[12]||"Image"}});const h=[Ie,we],r=[];function k(f,g){return f[13]==null?0:1}return a=k(t),_=r[a]=h[a](t),{c(){S(e.$$.fragment),n=L(),S(l.$$.fragment),s=L(),i=E("div"),_.c(),d(i,"class","container svelte-m3v3vb")},m(f,g){z(e,f,g),b(f,n,g),z(l,f,g),b(f,s,g),b(f,i,g),r[a].m(i,null),m=!0},p(f,g){const N=g[0]&2048?fe(c,[re(f[11])]):{};e.$set(N);const B={};g[0]&8&&(B.show_label=f[3]),g[0]&4096&&(B.label=f[12]||"Image"),l.$set(B);let w=a;a=k(f),a===w?r[a].p(f,g):(_e(),A(r[w],1,1,()=>{r[w]=null}),me(),_=r[a],_?_.p(f,g):(_=r[a]=h[a](f),_.c()),I(_,1),_.m(i,null))},i(f){m||(I(e.$$.fragment,f),I(l.$$.fragment,f),I(_),m=!0)},o(f){A(e.$$.fragment,f),A(l.$$.fragment,f),A(_),m=!1},d(f){f&&(v(n),v(s),v(i)),C(e,f),C(l,f),r[a].d()}}}function Me(t){let e,n;return e=new be({props:{visible:t[2],elem_id:t[0],elem_classes:t[1],padding:!1,height:t[5],width:t[6],allow_overflow:!1,container:t[8],scale:t[9],min_width:t[10],$$slots:{default:[Be]},$$scope:{ctx:t}}}),{c(){S(e.$$.fragment)},m(l,s){z(e,l,s),n=!0},p(l,s){const i={};s[0]&4&&(i.visible=l[2]),s[0]&1&&(i.elem_id=l[0]),s[0]&2&&(i.elem_classes=l[1]),s[0]&32&&(i.height=l[5]),s[0]&64&&(i.width=l[6]),s[0]&256&&(i.container=l[8]),s[0]&512&&(i.scale=l[9]),s[0]&1024&&(i.min_width=l[10]),s[0]&30904|s[1]&2&&(i.$$scope={dirty:s,ctx:l}),e.$set(i)},i(l){n||(I(e.$$.fragment,l),n=!0)},o(l){A(e.$$.fragment,l),n=!1},d(l){C(e,l)}}}function Ee(t,e,n){let{elem_id:l=""}=e,{elem_classes:s=[]}=e,{visible:i=!0}=e,{value:a}=e,_,m,{label:c="Annotated Image"}=e,{show_label:u=!0}=e,{show_legend:h=!0}=e,{height:r}=e,{width:k}=e,{color_map:f}=e,{container:g=!0}=e,{scale:N=null}=e,{min_width:B=void 0}=e,{root:w}=e,{root_url:T}=e,K=null,{loading_status:U}=e;const O=ie();function P(o){n(14,K=o)}function Q(){n(14,K=null)}const x=o=>P(o),$=o=>P(o),ee=()=>Q(),le=()=>Q(),te=(o,R)=>O("select",{index:o,value:R});return t.$$set=o=>{"elem_id"in o&&n(0,l=o.elem_id),"elem_classes"in o&&n(1,s=o.elem_classes),"visible"in o&&n(2,i=o.visible),"value"in o&&n(18,a=o.value),"label"in o&&n(12,c=o.label),"show_label"in o&&n(3,u=o.show_label),"show_legend"in o&&n(4,h=o.show_legend),"height"in o&&n(5,r=o.height),"width"in o&&n(6,k=o.width),"color_map"in o&&n(7,f=o.color_map),"container"in o&&n(8,g=o.container),"scale"in o&&n(9,N=o.scale),"min_width"in o&&n(10,B=o.min_width),"root"in o&&n(19,w=o.root),"root_url"in o&&n(20,T=o.root_url),"loading_status"in o&&n(11,U=o.loading_status)},t.$$.update=()=>{t.$$.dirty[0]&3932160&&(a!==_&&(n(21,_=a),O("change")),a?n(13,m=[H(a[0],w,T),a[1].map(([o,R])=>[H(o,w,T),R])]):n(13,m=null))},[l,s,i,u,h,r,k,f,g,N,B,U,c,m,K,O,P,Q,a,w,T,_,x,$,ee,le,te]}class qe extends ne{constructor(e){super(),se(this,e,Ee,Me,ae,{elem_id:0,elem_classes:1,visible:2,value:18,label:12,show_label:3,show_legend:4,height:5,width:6,color_map:7,container:8,scale:9,min_width:10,root:19,root_url:20,loading_status:11},null,[-1,-1])}}const je=qe,De=["static"],Ge=t=>({type:{payload:"[string, Array<[string, string]>]"},description:{payload:"path to base image, followed by a list of tuples [mask image path, label]"}});export{je as Component,Ge as document,De as modes};
//# sourceMappingURL=index-5ed35a3a.js.map
